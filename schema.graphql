query GetPostsByPage(
  $locales: [Locale!]!
  $orderBy: PostOrderByInput!
  $skip: Int!
  $limit: Int!
) {
  posts(locales: $locales, orderBy: $orderBy, skip: $skip, first: $limit) {
    title
    updatedAt(variation: BASE)
    createdAt(variation: BASE)
    excerpt
    slug
  }
}

query GetPostBySlug($slug: String!, $locales: [Locale!]!) {
  post(where: { slug: $slug }, locales: $locales) {
    content
    id
    tags(orderBy: name_DESC) {
      name
      id
      slug
    }
    createdAt(variation: BASE)
    updatedAt(variation: BASE)
  }
}

query GetTags {
  tags {
    name
    id
    slug
  }
}

query GetPostsByTag(
  $tagSlug: String!
  $locales: [Locale!]!
  $orderBy: PostOrderByInput
) {
  posts(
    where: { tags_every: { slug: $tagSlug } }
    locales: $locales
    orderBy: $orderBy
  ) {
    content
    title
    slug
    id
    createdAt(variation: BASE)
  }
}

query GetPostsCount {
  postsConnection {
    aggregate {
      count
    }
  }
}
